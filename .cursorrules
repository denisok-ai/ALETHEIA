# Правила проекта AVATERRA

Перед началом каждой значимой операции обращайся к этому файлу и к актуальной документации в `docs/`.

---

## Документация

1. **Project.md** — цели, архитектура, этапы, технологии. При изменении архитектуры обновлять этот файл.
2. **Content.md** — тексты для страниц.
3. **Media.md** — изображения, структура папок.
4. **Tasktracker.md** — задачи по этапам.
5. **Diary.md** — дневник решений и проблем.
6. **qa.md** — открытые вопросы.

---

## Процесс

- Решения согласуются с Project.md и Diary.md.
- После значимых изменений обновлять документацию.
- При неясностях — сверяться с qa.md.

---

## Контекст проекта

- Веб-сайт школы AVATERRA (Phygital школа мышечного тестирования, курс «Тело не врет»).
- Цели: продажа курсов и консультаций, информация о школе.
- Домен: https://avaterra.pro

---

## Технологический стек

- **Framework:** Next.js 14+ (App Router), TypeScript (strict).
- **Стили:** Tailwind CSS. Цвета: primary #2D1B4E, secondary #D4AF37, dark #0A0E27.
- **Анимации:** Framer Motion (reveal, модалки), React Three Fiber для 3D (Hero).
- **UI:** Компоненты в components/ui (button, input, label, dialog).
- **Платежи:** PayKeeper API (lib/paykeeper.ts). Валидация webhook по секрету.
- **БД:** Supabase (опционально). Клиент — lib/supabase/client.ts, сервер — lib/supabase/server.ts. Не экспонировать SUPABASE_SERVICE_ROLE_KEY на клиенте.
- **Деплой:** Vercel. Переменные окружения — см. .env.example.

---

## Стандарты кода

- Консистентность именования: компоненты PascalCase, файлы — в соответствии с Next.js.
- Безопасность: валидация ввода, не хранить секреты на клиенте, проверка подписи webhook PayKeeper.
- Переиспользуемые компоненты, понятная структура. В начале новых файлов — краткий комментарий о назначении.
- Доступность: семантика HTML, фокус, prefers-reduced-motion при анимациях.

---

## Ресурсы

- Next.js: https://nextjs.org/docs
- Tailwind: https://tailwindcss.com/docs
- Framer Motion: https://www.framer.com/motion/
- PayKeeper: https://help.paykeeper.ru/
- Supabase: https://supabase.com/docs
